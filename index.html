<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>snappo</title>

<style>
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #fafafa;
}

/* ===== ìƒë‹¨ ===== */
.topbar {
  height: 56px;
  display: flex;
  align-items: center;
  padding: 0 16px;
  background: white;
  border-bottom: 1px solid #eaeaea;
}

.left-icons { font-size: 20px; margin-right: 8px; }
.logo { font-size: 22px; font-weight: 600; }

.topbar-right {
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 10px;
}

.search-box {
  height: 36px;
  width: 220px;
  background: #f1f1f1;
  border-radius: 999px;
  display: flex;
  align-items: center;
  padding: 0 12px;
}
.search-box input {
  border: none;
  background: transparent;
  outline: none;
  flex: 1;
}

.icon-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: #f1f1f1;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

/* ===== í”¼ë“œ ===== */
.feed {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  padding: 16px;
  max-width: 900px;
  margin: 0 auto;
}

.photo-box {
  background: white;
  border-radius: 14px;
  overflow: hidden;
}
.photo-box img {
  width: 100%;
  display: block;
}

.photo-meta {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  padding: 6px 4px;
}

/* ===== ì˜¤ë²„ë ˆì´ ===== */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: none;
  justify-content: center;
  align-items: center;
}
.overlay-content {
  background: white;
  width: 90%;
  max-width: 720px;
  max-height: 90vh;
  overflow-y: auto;
  border-radius: 16px;
  padding: 16px;
}

/* í‰ê°€ */
.rating-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.rating-item {
  display: flex;
  justify-content: space-between;
  padding: 10px 12px;
  border-radius: 10px;
  background: #f1f1f1;
  cursor: pointer;
}
.rating-item.active {
  background: #111;
  color: white;
}

.review-input textarea {
  width: 100%;
  margin-top: 6px;
  resize: none;
}

/* ì»¤ë®¤ë‹ˆí‹° */
.community-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: none;
  justify-content: center;
  align-items: center;
}
.community-box {
  background: white;
  width: 90%;
  max-width: 360px;
  border-radius: 16px;
  padding: 16px;
}
.community-item {
  padding: 14px 10px;
  border-radius: 10px;
  cursor: pointer;
}
.community-item:hover {
  background: #f1f1f1;
}
</style>
</head>

<body>

<!-- ìƒë‹¨ -->
<div class="topbar">
  <div class="left-icons">ğŸ‘€</div>
  <div class="logo">snappo</div>

  <div class="topbar-right">
    <div class="search-box">
      <input placeholder="ì‚¬ì§„ ê²€ìƒ‰" />
    </div>
    <div class="icon-btn" onclick="openCommunity()">ğŸ’¬</div>
  </div>
</div>

<!-- í”¼ë“œ -->
<div class="feed" id="feed"></div>

<!-- í‰ê°€ ì˜¤ë²„ë ˆì´ -->
<div class="overlay" id="reviewOverlay">
  <div class="overlay-content">
    <h3>ì‚¬ì§„ í‰ê°€</h3>

    <div class="rating-list">
      <div class="rating-item" onclick="toggleRating(this,'ğŸ¬ êµ¬ë„ì™€ ì´ˆì ')">êµ¬ë„ì™€ ì´ˆì  <span>ğŸ¬</span></div>
      <div class="rating-item" onclick="toggleRating(this,'ğŸŒ˜ ë¹›ê³¼ ìŒì˜')">ë¹›ê³¼ ìŒì˜ <span>ğŸŒ˜</span></div>
      <div class="rating-item" onclick="toggleRating(this,'ğŸ¨ ìƒ‰ê°')">ìƒ‰ê° <span>ğŸ¨</span></div>
      <div class="rating-item" onclick="toggleRating(this,'ğŸ“š ìŠ¤í† ë¦¬')">ìŠ¤í† ë¦¬ <span>ğŸ“š</span></div>
    </div>

    <div id="reviewInputs"></div>
    <button onclick="closeReview()">ë‹«ê¸°</button>
  </div>
</div>

<!-- ì»¤ë®¤ë‹ˆí‹° -->
<div class="community-overlay" id="communityOverlay">
  <div class="community-box">
    <h3>ì»¤ë®¤ë‹ˆí‹°</h3>
    <div class="community-item">ììœ ê²Œì‹œíŒ</div>
    <div class="community-item">ì§ˆë¬¸ê²Œì‹œíŒ</div>
    <div class="community-item">ì†Œëª¨ì„ ê²Œì‹œíŒ</div>
    <button onclick="closeCommunity()">ë‹«ê¸°</button>
  </div>
</div>

<script>
/* ===== ì‚¬ì§„ ë°ì´í„° (ì˜ˆì‹œ) ===== */
const photos = [
  { id:1, src:'https://picsum.photos/400/600?1', views:120, reviews:3, time:Date.now()-100000 },
  { id:2, src:'https://picsum.photos/400/500?2', views:40, reviews:1, time:Date.now()-50000 },
  { id:3, src:'https://picsum.photos/400/550?3', views:200, reviews:6, time:Date.now()-200000 }
];

/* ===== ê¸°ë³¸ ì •ë ¬ ===== */
function score(p){
  return (p.time / 100000) + (p.views * 0.3) + (p.reviews * 0.5);
}

photos.sort((a,b)=> score(b) - score(a));

const feed = document.getElementById('feed');

photos.forEach(p=>{
  const card = document.createElement('div');
  card.onclick = openReview;
  card.innerHTML = `
    <div class="photo-box">
      <img src="${p.src}">
    </div>
    <div class="photo-meta">ğŸ‘€ ${p.views}</div>
  `;
  feed.appendChild(card);
});

/* ===== í‰ê°€ ===== */
const selected = new Set();
function openReview(){ document.getElementById('reviewOverlay').style.display='flex'; }
function closeReview(){ document.getElementById('reviewOverlay').style.display='none'; }

function toggleRating(el,key){
  const box = document.getElementById('reviewInputs');
  if(selected.has(key)){
    selected.delete(key);
    el.classList.remove('active');
    document.getElementById(key)?.remove();
  } else {
    if(selected.size>=4) return;
    selected.add(key);
    el.classList.add('active');
    const div=document.createElement('div');
    div.id=key;
    div.innerHTML=`<strong>${key}</strong><textarea rows="2"></textarea>`;
    box.appendChild(div);
  }
}

/* ===== ì»¤ë®¤ë‹ˆí‹° ===== */
function openCommunity(){ document.getElementById('communityOverlay').style.display='flex'; }
function closeCommunity(){ document.getElementById('communityOverlay').style.display='none'; }
</script>

</body>
</html>
